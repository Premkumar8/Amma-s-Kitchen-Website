{% extends 'base.html' %}
{% block content %}
<div class="container d-flex flex-column align-items-center justify-content-center" style="min-height: 80vh;">
  <div class="card p-4 shadow rounded-4" style="max-width: 420px; width: 100%;">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert-{{ category }} alert-dismissible fade show shadow-sm mb-4" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <div class="text-center mb-4">
      <h3 class="fw-bold mt-2 mb-1" style="color:#be123c;">Choose a new password</h3>
      <div class="small text-muted">Enter and confirm your new password below.</div>
    </div>

    <form method="POST" autocomplete="on">
      <div class="mb-3">
        <label class="form-label fw-bold">New password</label>
        <input type="password" class="form-control rounded-3" name="password" required placeholder="New password">
      </div>
      <div class="mb-4">
        <label class="form-label fw-bold">Confirm password</label>
        <input type="password" class="form-control rounded-3" name="confirm_password" required placeholder="Confirm new password">
      </div>
      <button type="submit" class="btn btn-danger btn-lg w-100 rounded-3 fw-bold">
        Update password
      </button>
    </form>

    <div class="mt-3 text-center small">
      <a href="{{ url_for('login') }}" class="fw-bold text-decoration-none" style="color:#be123c;">Back to login</a>
    </div>
  </div>
</div><br><br>
{% endblock %}
